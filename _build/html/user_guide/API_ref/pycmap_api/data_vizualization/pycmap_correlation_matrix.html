


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    
        <title>Correlation Matrix &mdash; CMAP</title>
    


  
  
    <link rel="shortcut icon" href="../../../../_static/CMAP_logo.png"/>
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Correlation Matrix Along Cruise Track" href="pycmap_correlation_matrix_cruise_track.html" />
    <link rel="prev" title="Cruise Track Plot" href="pycmap_cruise_track.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Simons CMAP
          

          
            
            <img src="../../../../_static/CMAP_logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../catalog/catalog.html">Data Catalog</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api_ref.html">Software Packages</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../pycmap_api_ref.html">pycmap API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../pycmap_install.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycmap_data_retrieval.html">Data Retrieval Methods</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../pycmap_data_vizualization.html">Data Visualization Methods</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../pycmap_data_vizualization.html#id1">Data Visualization Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pycmap_presentations.html">Presentations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cmap4r_api/cmap4r_api.html">cmap4r API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matcmap_api/matcmap_api_ref.html">matcmap API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../juliacmap_api/juliacmap_api_ref.html">juliacmap API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opedia_tutorials/opedia_tutorials.html">opedia (depreciated)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">FAQ and Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq_and_contributing/datasubmission.html">Data Submission</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq_and_contributing/datasubmission.html#data-template-structure">Data Template Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq_and_contributing/FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq_and_contributing/contact.html">Contact and Contribute</a></li>
</ul>

            
          

    
        <p class="caption">
            <span class="caption-text">
            
                Outside Resources
            
            </span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://simonscmap.com/"><i class="fa fa-globe fa-fw"></i> Simons CMAP Web Application</a></li>
            
                <li class="toctree-l1"><a href="https://simonscmap.com/catalog"><i class="fa fa-archive fa-fw"></i> Interactive Data Catalog</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/simonscmap"><i class="fa fa-github fa-fw"></i> Project Source Code</a></li>
            
                <li class="toctree-l1"><a href="https://join.slack.com/t/simons-cmap/shared_invite/enQtNjQzMTkzMjg0NjQ2LTdlOGRhZjNhMDY3MjRlNjg2OTY5NzE3ZWZhNWE0OWZhYmQzMTJjNDkyNDQ1MjNkZDg0N2MzMzhlZDliNGYxYzQ"><i class="fa fa-slack fa-fw"></i> Slack</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Simons CMAP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../api_ref.html">Software Packages</a> &raquo;</li>
        
          <li><a href="../pycmap_api_ref.html">pycmap API</a> &raquo;</li>
        
          <li><a href="../pycmap_data_vizualization.html">Data Visualization Methods</a> &raquo;</li>
        
      <li>Correlation Matrix</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="correlation-matrix">
<span id="corrmatrix"></span><h1>Correlation Matrix<a class="headerlink" href="#correlation-matrix" title="Permalink to this headline">Â¶</a></h1>
<a class="reference external image-reference" href="https://colab.research.google.com/github/simonscmap/pycmap/blob/master/docs/Viz_CorrelationMatrix.ipynb"><img alt="https://colab.research.google.com/assets/colab-badge.svg" src="https://colab.research.google.com/assets/colab-badge.svg" /></a>
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/simonscmap/pycmap/master?filepath=docs%2FViz_CorrelationMatrix.ipynb"><img alt="https://mybinder.org/badge_logo.svg" src="https://mybinder.org/badge_logo.svg" /></a>
<dl class="method">
<dt id="plot_corr_map">
<code class="sig-name descname">plot_corr_map</code><span class="sig-paren">(</span><em class="sig-param">sourceTable</em>, <em class="sig-param">sourceVar</em>, <em class="sig-param">targetTables</em>, <em class="sig-param">targetVars</em>, <em class="sig-param">dt1</em>, <em class="sig-param">dt2</em>, <em class="sig-param">lat1</em>, <em class="sig-param">lat2</em>, <em class="sig-param">lon1</em>, <em class="sig-param">lon2</em>, <em class="sig-param">depth1</em>, <em class="sig-param">depth2</em>, <em class="sig-param">temporalTolerance</em>, <em class="sig-param">latTolerance</em>, <em class="sig-param">lonTolerance</em>, <em class="sig-param">depthTolerance</em>, <em class="sig-param">method='spearman'</em>, <em class="sig-param">exportDataFlag=False</em>, <em class="sig-param">show=True</em><span class="sig-paren">)</span><a class="headerlink" href="#plot_corr_map" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function computes and plots the pair-correlation coefficient
between the source and target variables. The results are visualized in
form of a correlation matrix. To compute the correlations, the source and
target variables have to be colocalized first (see <a class="reference internal" href="../data_retrieval/pycmap_match_datasets.html#match"><span class="std std-ref">Match (colocalize) Datasets</span></a>). The colocalization procedure relies on the tolerance
parameters because they set the matching boundaries between the source
and target datasets. Note the source has to be a single
non-climatological variable. In principle, if the source dataset is
fully covered by the target variableâs spatio-temporal range, there
should always be matching results if the tolerance parameters are larger
than half of their corresponding spatial/temporal resolutions. Please
explore the <a class="reference internal" href="../../../../catalog/catalog.html#catalog"><span class="std std-ref">Data Catalog</span></a> to find appropriate target variables. Currently, this visualization is only supported by plotly visualization library.</p>
<p>Returns the generated correlation graph object. One may modify the graph properties (see example below).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method requires a valid <a class="reference external" href="https://simonscmap.com/apikeymanagement">API key</a>. It is not necessary to set the
API key every time because the API properties are stored locally after
being called the first time.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>sourceTable: string</strong></dt><dd><p>Table name of the source dataset. A full list of table names can be found in <a class="reference internal" href="../../../../catalog/catalog.html#catalog"><span class="std std-ref">Data Catalog</span></a>.</p>
</dd>
<dt><strong>sourceVar: string</strong></dt><dd><p>The source variable short name. The target variables are matched (colocalized) with this variable. A full list of variable short names can be found in <a class="reference internal" href="../../../../catalog/catalog.html#catalog"><span class="std std-ref">Data Catalog</span></a>.</p>
</dd>
<dt><strong>targetTables: list of string</strong></dt><dd><p>Table names of the target datasets to be matched with the source data. Note source dataset can be matched with multiple target datasets. A full list of table names can be found in <a class="reference internal" href="../../../../catalog/catalog.html#catalog"><span class="std std-ref">Data Catalog</span></a>.</p>
</dd>
<dt><strong>dt1: string</strong></dt><dd><p>Start date or datetime. Both source and target datasets are filtered before matching. This parameter sets the lower bound of the temporal cut.</p>
<p>Example values: â2016-05-25â or â2017-12-10 17:25:00â.</p>
</dd>
<dt><strong>dt2: string</strong></dt><dd><p>End date or datetime. Both source and target datasets are filtered before matching. This parameter sets the upper bound of the temporal cut.</p>
</dd>
<dt><strong>lat1: float</strong></dt><dd><p>Start latitude [degree N]. Both source and target datasets are filtered before matching. This parameter sets the lower bound of the meridional cut. Note latitude ranges from -90 to 90 degrees.</p>
</dd>
<dt><strong>lat2: float</strong></dt><dd><p>End latitude [degree N]. Both source and target datasets are filtered before matching. This parameter sets the upper bound of the meridional cut. Note latitude ranges from -90 to 90 degrees.</p>
</dd>
<dt><strong>lon1: float</strong></dt><dd><p>Start longitude [degree E]. Both source and target datasets are filtered before matching. This parameter sets the lower bound of the zonal cut. Note longitude ranges from -180 to 180 degrees.</p>
</dd>
<dt><strong>lon2: float</strong></dt><dd><p>End longitude [degree E]. Both source and target datasets are filtered before matching. This parameter sets the upper bound of the zonal cut. Note longitude ranges from -180 to 180 degrees.</p>
</dd>
<dt><strong>depth1: float</strong></dt><dd><p>Start depth [m]. Both source and target datasets are filtered before matching. This parameter sets the lower bound of the vertical cut. Note depth is a positive number (depth is 0 at the surface and increases towards the ocean floor).</p>
</dd>
<dt><strong>depth2: float</strong></dt><dd><p>End depth [m]. Both source and target datasets are filtered before matching. This parameter sets the upper bound of the vertical cut. Note depth is a positive number (depth is 0 at the surface and increases towards the ocean floor).</p>
</dd>
<dt><strong>temporalTolerance: list of int</strong></dt><dd><p>Temporal tolerance values between pairs of source and target datasets. The size and order of values in this list should match those of targetTables. If only a single integer value is given, that would be applied to all target datasets. This parameter is in day units except when the target variable represents monthly climatology data in which case it is in month units. Note fractional values are not supported in the current version.</p>
</dd>
<dt><strong>latTolerance: list of float or int</strong></dt><dd><p>Spatial tolerance values in meridional direction [deg] between pairs of source and target datasets. The size and order of values in this list should match those of targetTables. If only a single float value is given, that would be applied to all target datasets. A âsafeâ value for this parameter can be slightly larger than the half of the target variableâs spatial resolution.</p>
</dd>
<dt><strong>lonTolerance: list of float or int</strong></dt><dd><p>Spatial tolerance values in zonal direction [deg] between pairs of source and target datasets. The size and order of values in this list should match those of targetTables. If only a single float value is given, that would be applied to all target datasets. A âsafeâ value for this parameter can be slightly larger than the half of the target variableâs spatial resolution.</p>
</dd>
<dt><strong>depthTolerance: list of float or int</strong></dt><dd><p>Spatial tolerance values in vertical direction [m] between pairs of source and target datasets. The size and order of values in this list should match those of targetTables. If only a single float value is given, that would be applied to all target datasets.</p>
</dd>
<dt><strong>method: str, default: âspearmanâ</strong></dt><dd><p>Correlation algorithm. âspearmanâ is a rank correlation algorithm and is
a metric for monotonic relationships. Other options involve
<strong>âpearsonâ</strong> and <strong>âkendallâ</strong>. <em>âpearsonâ</em> is the standard correlation
coefficient, more favorable for linear correlations. <em>âkendallâ</em> evaluates Kendall Tau correlation coefficient.</p>
</dd>
<dt><strong>exportDataFlag: boolean, default: False</strong></dt><dd><p>If True, the graph data points are stored on the local machine. The export path and file format are set by the <a class="reference external" href="https://cmap.readthedocs.io/en/latest/user_guide/API_ref/pycmap_api/pycmap_api_ref.html">APIs parameters</a>.</p>
</dd>
<dt><strong>show: boolean, default: True</strong></dt><dd><p>If True, the graph object is returned and is displayed. The graph file is saved on the local machine at the figureDir directory.
If False, the graph object is returned but not displayed.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>the graph object</p>
<p>Below are the graphâs properties and methods.</p>
<dl class="field-list">
<dt class="field-odd">Properties</dt>
<dd class="field-odd"><dl>
<dt><strong>x: list of string</strong></dt><dd><p>Correlation matrix column titles (covariate names).</p>
</dd>
<dt><strong>y: list of string</strong></dt><dd><p>Correlation matrix row titles (covariate names).</p>
</dd>
<dt><strong>z: numpy.ndarray</strong></dt><dd><p>Computed pairwise correlation coefficients.</p>
</dd>
<dt><strong>cmap: str or cmocean colormap</strong></dt><dd><p>Colormap name. Any matplotlib (e.g. âviridisâ, ..) or cmocean (e.g. cmocean.cm.thermal, ..) colormaps can be passed to this property. A full list of matplotlib and cmocean color palettes can be found at the following links:
<a class="reference external" href="https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html">https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html</a></p>
<p><a class="reference external" href="https://matplotlib.org/cmocean/">https://matplotlib.org/cmocean/</a></p>
</dd>
<dt><strong>vmin: float</strong></dt><dd><p>This parameter defines the lower bound of the colorbar.</p>
</dd>
<dt><strong>vmax: float</strong></dt><dd><p>This parameter defines the upper bound of the colorbar.</p>
</dd>
<dt><strong>height: int</strong></dt><dd><p>Graphâs height in pixels.</p>
</dd>
<dt><strong>width: int</strong></dt><dd><p>Graphâs width in pixels.</p>
</dd>
<dt><strong>title: str</strong></dt><dd><p>The graphsâs title.</p>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Methods</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>render()</strong></dt><dd><p>Displays the plot according to the set properties.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">Â¶</a></h2>
<p>In this example the abundance of a prochlorococcus strain (MIT9313PCR,
see lines 37-38) measured by <a class="reference external" href="https://chisholmlab.mit.edu/">Chisholm lab</a> during the AMT13 cruise
(Atlantic Meridional Transect Cruise 13) is colocalized with 7 target
variables (lines 7-8):</p>
<ul class="simple">
<li><p>âMIT9312PCR*Chisholmâ, âMED4PCR*Chisholmâ, and âsbact_Chisholmâ
from the same <a class="reference external" href="https://cmap.readthedocs.io/en/latest/catalog/datasets/Chisholm_AMT13.html#chisholm-amt13">source dataset</a></p></li>
<li><p>âphosphate*WOA*climâ, and ânitrate*WOA*climâ from <a class="reference external" href="https://cmap.readthedocs.io/en/latest/catalog/datasets/WOA_climatology.html#woa-clim">World Ocean
Atlas</a> monthly climatology dataset</p></li>
<li><p>âchlâ from weekly averaged satellite <a class="reference external" href="https://cmap.readthedocs.io/en/latest/catalog/datasets/Chlorophyll_REP.html#chlorophyll-rep">chlorophyll dataset</a></p></li>
<li><p>âpicoprokaryoteâ from 3-day averaged <a class="reference external" href="https://cmap.readthedocs.io/en/latest/catalog/datasets/Darwin_3day.html#darwin-3day">Darwin model</a>. Colocalizing
this variable will take longer time than others as the 3-day averaged
Darwin dataset is massive (multi-decadal global 3D dataset)!</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The space-time cut parameters (lines 41-48) have been set in such a way
to encompass the entire source dataset âtblAMT13_Chisholmâ (see the
<a class="reference external" href="https://cmap.readthedocs.io/en/latest/catalog/datasets/Chisholm_AMT13.html#chisholm-amt13">dataset page</a> for more details). Notice that the last data point at
the source dataset has been measured at â2003-10-12 12:44:00â. For
simplicity dt2 has been set to â2003-10-13â, but you could also use the
exact date-time â2003-10-12 12:44:00â.</p>
<p>Please review the <strong>Example 1</strong> at <a class="reference external" href="https://cmap.readthedocs.io/en/latest/user_guide/API_ref/pycmap_api/data_retrieval/pycmap_match_datasets.html">Match (colocalize) Datasets</a> page
since all of the mentioned tips directly apply to this example too.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!pip install pycmap -q     #uncomment to install pycmap, if necessary</span>
<span class="c1"># uncomment the lines below if the API key has not been registered on your machine, previously.</span>
<span class="c1"># import pycmap</span>
<span class="c1"># pycmap.API(token=&#39;YOUR_API_KEY&gt;&#39;, vizEngine=&#39;plotly&#39;)</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="kn">from</span> <span class="nn">pycmap.viz</span> <span class="kn">import</span> <span class="n">plot_corr_map</span>



<span class="k">def</span> <span class="nf">match_params</span><span class="p">():</span>
    <span class="n">Param</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Param&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="s1">&#39;variable&#39;</span><span class="p">,</span> <span class="s1">&#39;temporalTolerance&#39;</span><span class="p">,</span> <span class="s1">&#39;latTolerance&#39;</span><span class="p">,</span> <span class="s1">&#39;lonTolerance&#39;</span><span class="p">,</span> <span class="s1">&#39;depthTolerance&#39;</span><span class="p">])</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1">######## self-matching: colocalizing with some other variables in the tblAMT13_Chisholm dataset</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Param</span><span class="p">(</span><span class="s1">&#39;tblAMT13_Chisholm&#39;</span><span class="p">,</span> <span class="s1">&#39;MIT9312PCR_Chisholm&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Param</span><span class="p">(</span><span class="s1">&#39;tblAMT13_Chisholm&#39;</span><span class="p">,</span> <span class="s1">&#39;MED4PCR_Chisholm&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Param</span><span class="p">(</span><span class="s1">&#39;tblAMT13_Chisholm&#39;</span><span class="p">,</span> <span class="s1">&#39;sbact_Chisholm&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="c1">####### WOA: World Ocean Atlas Monthly Climatology</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Param</span><span class="p">(</span><span class="s1">&#39;tblWOA_Climatology&#39;</span><span class="p">,</span> <span class="s1">&#39;nitrate_WOA_clim&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Param</span><span class="p">(</span><span class="s1">&#39;tblWOA_Climatology&#39;</span><span class="p">,</span> <span class="s1">&#39;phosphate_WOA_clim&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="c1">####### Satellite</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Param</span><span class="p">(</span><span class="s1">&#39;tblCHL_REP&#39;</span><span class="p">,</span> <span class="s1">&#39;chl&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="c1">####### Darwin Model</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Param</span><span class="p">(</span><span class="s1">&#39;tblDarwin_Phytoplankton&#39;</span><span class="p">,</span> <span class="s1">&#39;picoprokaryote&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>


    <span class="n">tables</span><span class="p">,</span> <span class="n">variables</span><span class="p">,</span> <span class="n">temporalTolerance</span><span class="p">,</span> <span class="n">latTolerance</span><span class="p">,</span> <span class="n">lonTolerance</span><span class="p">,</span> <span class="n">depthTolerance</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">params</span><span class="p">)):</span>
        <span class="n">tables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">table</span><span class="p">)</span>
        <span class="n">variables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">variable</span><span class="p">)</span>
        <span class="n">temporalTolerance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">temporalTolerance</span><span class="p">)</span>
        <span class="n">latTolerance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">latTolerance</span><span class="p">)</span>
        <span class="n">lonTolerance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">lonTolerance</span><span class="p">)</span>
        <span class="n">depthTolerance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">depthTolerance</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tables</span><span class="p">,</span> <span class="n">variables</span><span class="p">,</span> <span class="n">temporalTolerance</span><span class="p">,</span> <span class="n">latTolerance</span><span class="p">,</span> <span class="n">lonTolerance</span><span class="p">,</span> <span class="n">depthTolerance</span>



<span class="n">targetTables</span><span class="p">,</span> <span class="n">targetVars</span><span class="p">,</span> <span class="n">temporalTolerance</span><span class="p">,</span> <span class="n">latTolerance</span><span class="p">,</span> <span class="n">lonTolerance</span><span class="p">,</span> <span class="n">depthTolerance</span> <span class="o">=</span> <span class="n">match_params</span><span class="p">()</span>
<span class="n">go</span> <span class="o">=</span> <span class="n">plot_corr_map</span><span class="p">(</span>
                  <span class="n">sourceTable</span><span class="o">=</span><span class="s1">&#39;tblAMT13_Chisholm&#39;</span><span class="p">,</span>
                  <span class="n">sourceVar</span><span class="o">=</span><span class="s1">&#39;MIT9313PCR_Chisholm&#39;</span><span class="p">,</span>
                  <span class="n">targetTables</span><span class="o">=</span><span class="n">targetTables</span><span class="p">,</span>
                  <span class="n">targetVars</span><span class="o">=</span><span class="n">targetVars</span><span class="p">,</span>
                  <span class="n">dt1</span><span class="o">=</span><span class="s1">&#39;2003-09-14&#39;</span><span class="p">,</span>
                  <span class="n">dt2</span><span class="o">=</span><span class="s1">&#39;2003-10-13&#39;</span><span class="p">,</span>
                  <span class="n">lat1</span><span class="o">=-</span><span class="mi">48</span><span class="p">,</span>
                  <span class="n">lat2</span><span class="o">=</span><span class="mi">48</span><span class="p">,</span>
                  <span class="n">lon1</span><span class="o">=-</span><span class="mi">52</span><span class="p">,</span>
                  <span class="n">lon2</span><span class="o">=-</span><span class="mi">11</span><span class="p">,</span>
                  <span class="n">depth1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                  <span class="n">depth2</span><span class="o">=</span><span class="mi">240</span><span class="p">,</span>
                  <span class="n">temporalTolerance</span><span class="o">=</span><span class="n">temporalTolerance</span><span class="p">,</span>
                  <span class="n">latTolerance</span><span class="o">=</span><span class="n">latTolerance</span><span class="p">,</span>
                  <span class="n">lonTolerance</span><span class="o">=</span><span class="n">lonTolerance</span><span class="p">,</span>
                  <span class="n">depthTolerance</span><span class="o">=</span><span class="n">depthTolerance</span>
                  <span class="p">)</span>
</pre></div>
</div>
<iframe src="../../../../_static/pycmap_tutorial_viz/html/correlation_matrix_annotated_heatmap_MIT9313PCR_Chisholm.html"  frameborder = 0  height="800px" width="100%">></iframe><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># here is how to modify the graph:</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c1"># print correlation values</span>
<span class="c1"># print(go.z)</span>
<span class="c1"># print(go.x)</span>
<span class="c1"># print(go.y)</span>
<span class="n">go</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
<span class="n">go</span><span class="o">.</span><span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;Greys&#39;</span>
<span class="n">go</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">go</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">go</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</pre></div>
</div>
<iframe src="../../../../_static/pycmap_tutorial_viz/html/correlation_matrix_modified_annotated_heatmap_MIT9313PCR_Chisholm.html"  frameborder = 0  height="1100px" width="100%">></iframe></div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 
      <span class="lastupdated">
        Last updated on Jun 19, 2020.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>